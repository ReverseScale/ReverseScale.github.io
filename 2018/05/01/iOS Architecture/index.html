<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>èµ°åœ¨æŠ€æœ¯å‰æ²¿çš„ ios æ¶æ„å®ç° | Evolution</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="æ¶æ„">
  
  
  
  
  <meta name="description" content="æˆ‘ç†è§£çš„æ¡†æ¶ï¼Œå°±å¥½æ¯”è®¡ç®—æœºçš„ä¸»æ¿ï¼Œæˆ¿å±‹çš„å»ºç­‘éª¨æ¶ï¼Œé“è·¯çš„åŸºç¡€è®¾æ–½é…å¥—ï¼Œæ¡†æ¶æ­çš„å¥½ï¼Œèƒ½ç›´æ¥å½±å“å¼€å‘è€…çš„å¼€å‘å¿ƒæƒ…ï¼Œæ›´èƒ½è®©é¡¹ç›®å¥å£®æ€§å’Œæ‰©å±•æ€§å¤§å¤§å¢å¼º~">
<meta name="keywords" content="æ¶æ„">
<meta property="og:type" content="article">
<meta property="og:title" content="èµ°åœ¨æŠ€æœ¯å‰æ²¿çš„ iOS æ¶æ„å®ç°">
<meta property="og:url" content="https://reversescale.github.io/2018/05/01/iOS Architecture/index.html">
<meta property="og:site_name" content="Evolution">
<meta property="og:description" content="æˆ‘ç†è§£çš„æ¡†æ¶ï¼Œå°±å¥½æ¯”è®¡ç®—æœºçš„ä¸»æ¿ï¼Œæˆ¿å±‹çš„å»ºç­‘éª¨æ¶ï¼Œé“è·¯çš„åŸºç¡€è®¾æ–½é…å¥—ï¼Œæ¡†æ¶æ­çš„å¥½ï¼Œèƒ½ç›´æ¥å½±å“å¼€å‘è€…çš„å¼€å‘å¿ƒæƒ…ï¼Œæ›´èƒ½è®©é¡¹ç›®å¥å£®æ€§å’Œæ‰©å±•æ€§å¤§å¤§å¢å¼º~">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f69358239a6e?w=820&h=480&f=jpeg&s=46204">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935dd3886f?w=358&h=704&f=png&s=34082">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/4/25/162fc1ec1003f018?w=358&h=704&f=png&s=29004">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/4/25/162fc1f021208dde?w=358&h=704&f=png&s=42923">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/4/25/162fc1fd987f8a76?w=358&h=704&f=png&s=38676">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935ce5f838?w=198&h=166&f=png&s=36645">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935e05933d?w=215&h=172&f=png&s=34900">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f69385b2261c?w=181&h=131&f=png&s=34097">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/4/25/162fc3254daa470b?w=468&h=368&f=png&s=37364">
<meta property="og:updated_time" content="2018-11-16T12:08:39.132Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="èµ°åœ¨æŠ€æœ¯å‰æ²¿çš„ iOS æ¶æ„å®ç°">
<meta name="twitter:description" content="æˆ‘ç†è§£çš„æ¡†æ¶ï¼Œå°±å¥½æ¯”è®¡ç®—æœºçš„ä¸»æ¿ï¼Œæˆ¿å±‹çš„å»ºç­‘éª¨æ¶ï¼Œé“è·¯çš„åŸºç¡€è®¾æ–½é…å¥—ï¼Œæ¡†æ¶æ­çš„å¥½ï¼Œèƒ½ç›´æ¥å½±å“å¼€å‘è€…çš„å¼€å‘å¿ƒæƒ…ï¼Œæ›´èƒ½è®©é¡¹ç›®å¥å£®æ€§å’Œæ‰©å±•æ€§å¤§å¤§å¢å¼º~">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2018/2/7/1616f69358239a6e?w=820&h=480&f=jpeg&s=46204">
  
    <link rel="alternate" href="/atom.xml" title="Evolution" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/docccc.png">
  <link rel="apple-touch-icon" href="/css/images/docccc.png">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="../../../../css/style.css">

  <script src="../../../../js/jquery-3.1.1.min.js"></script>
  <script src="../../../../js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="../../../../css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 border-width: 0px;  margin-top: 0px;" href="#" data-toggle="modal" data-target="#myModal">
                  <img width="88px" height="88px" alt="Hike News" src="/css/images/docccc.png">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="../../../../index.html">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../archives">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../categories">Categories</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../tags">Tags</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '../../../../content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="../../../../js/insight.js"></script>

</div></li>
            </ul></div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-iOS Architecture" style="width: 75%; float:left;" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      èµ°åœ¨æŠ€æœ¯å‰æ²¿çš„ iOS æ¶æ„å®ç°
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="" class="article-date">
	  <time datetime="2018-05-01T13:56:27.000Z" itemprop="datePublished">2018-05-01</time>
	</a>

      
    <a class="article-category-link" href="../../../../categories/Project/">Project</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		PV:<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>æˆ‘ç†è§£çš„æ¡†æ¶ï¼Œå°±å¥½æ¯”è®¡ç®—æœºçš„ä¸»æ¿ï¼Œæˆ¿å±‹çš„å»ºç­‘éª¨æ¶ï¼Œé“è·¯çš„åŸºç¡€è®¾æ–½é…å¥—ï¼Œæ¡†æ¶æ­çš„å¥½ï¼Œèƒ½ç›´æ¥å½±å“å¼€å‘è€…çš„å¼€å‘å¿ƒæƒ…ï¼Œæ›´èƒ½è®©é¡¹ç›®å¥å£®æ€§å’Œæ‰©å±•æ€§å¤§å¤§å¢å¼º~</p>
<a id="more"></a>
<hr>
<p>åŸºäº Objective-C å®ç°çš„æ¡†æ¶è®¾è®¡ï¼ŒYTKNetworkç½‘ç»œå±‚ + AOPæ›¿ä»£åŸºç±» + MVVM + ReactiveObjC + JLRoutesè·¯ç”±</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/7/1616f69358239a6e?w=820&amp;h=480&amp;f=jpeg&amp;s=46204" alt=""></p>
<p>ğŸ‘¨ğŸ»â€ğŸ’» <a href="https://github.com/ReverseScale/OCTemplate" target="_blank" rel="noopener">Github Demo</a></p>
<hr>
<h3 id="ğŸ¤–-è¦æ±‚"><a href="#ğŸ¤–-è¦æ±‚" class="headerlink" title="ğŸ¤– è¦æ±‚"></a>ğŸ¤– è¦æ±‚</h3><ul>
<li>iOS 8.0+</li>
<li>Xcode 8.0+</li>
<li>Objective-C</li>
</ul>
<hr>
<h3 id="ğŸ¨-æµ‹è¯•-UI-ä»€ä¹ˆæ ·å­ï¼Ÿ"><a href="#ğŸ¨-æµ‹è¯•-UI-ä»€ä¹ˆæ ·å­ï¼Ÿ" class="headerlink" title="ğŸ¨ æµ‹è¯• UI ä»€ä¹ˆæ ·å­ï¼Ÿ"></a>ğŸ¨ æµ‹è¯• UI ä»€ä¹ˆæ ·å­ï¼Ÿ</h3><table>
<thead>
<tr>
<th>1.å±•ç¤ºé¡µ</th>
<th>2.å±•ç¤ºé¡µ</th>
<th>3.å±•ç¤ºé¡µ</th>
<th>4.è¯´æ˜é¡µ</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935dd3886f?w=358&amp;h=704&amp;f=png&amp;s=34082" alt=""></td>
<td><img src="https://user-gold-cdn.xitu.io/2018/4/25/162fc1ec1003f018?w=358&amp;h=704&amp;f=png&amp;s=29004" alt=""></td>
<td><img src="https://user-gold-cdn.xitu.io/2018/4/25/162fc1f021208dde?w=358&amp;h=704&amp;f=png&amp;s=42923" alt=""></td>
<td><img src="https://user-gold-cdn.xitu.io/2018/4/25/162fc1fd987f8a76?w=358&amp;h=704&amp;f=png&amp;s=38676" alt=""></td>
</tr>
<tr>
<td>ç™»å½•è§†å›¾</td>
<td>ç¤ºä¾‹å±•ç¤º</td>
<td>è·³è½¬é¡µé¢</td>
<td>ä»‹ç»é¡µé¢</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="ğŸ¯-å®‰è£…æ–¹æ³•"><a href="#ğŸ¯-å®‰è£…æ–¹æ³•" class="headerlink" title="ğŸ¯ å®‰è£…æ–¹æ³•"></a>ğŸ¯ å®‰è£…æ–¹æ³•</h3><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>åœ¨ <em>iOS</em>, ä½ éœ€è¦åœ¨ Podfile ä¸­æ·»åŠ .<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">source &apos;https://github.com/CocoaPods/Specs.git&apos;</span><br><span class="line">platform :ios, &apos;9.0&apos;</span><br><span class="line">use_frameworks!</span><br><span class="line"></span><br><span class="line">  # æç¤ºç»„ä»¶æ¡†æ¶</span><br><span class="line">  pod &apos;SVProgressHUD&apos;, &apos;~&gt; 2.2.2&apos;</span><br><span class="line">  # ç½‘ç»œè¯·æ±‚æ¡†æ¶</span><br><span class="line">  pod &apos;YTKNetwork&apos;, &apos;~&gt; 2.0.3&apos;</span><br><span class="line">  # AOPé¢å‘åˆ‡é¢</span><br><span class="line">  pod &apos;Aspects&apos;, &apos;~&gt; 1.4.1&apos;</span><br><span class="line">  # å“åº”å‡½æ•°å¼æ¡†æ¶</span><br><span class="line">  pod &apos;ReactiveObjC&apos;, &apos;~&gt; 3.0.0&apos;</span><br><span class="line">  # è·¯ç”±ç»„ä»¶åŒ–è§£è€¦</span><br><span class="line">  pod &apos;JLRoutes&apos;, &apos;~&gt; 2.0.5&apos;</span><br><span class="line">  # æç¤ºç»„ä»¶æ¡†æ¶</span><br><span class="line">  pod &apos;SVProgressHUD&apos;, &apos;~&gt; 2.2.2&apos;</span><br><span class="line">  # è‡ªåŠ¨å¸ƒå±€</span><br><span class="line">  pod &apos;Masonry&apos;, &apos;~&gt; 1.0.2&apos;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="ğŸ› -æ¡†æ¶ä»‹ç»"><a href="#ğŸ› -æ¡†æ¶ä»‹ç»" class="headerlink" title="ğŸ›  æ¡†æ¶ä»‹ç»"></a>ğŸ›  æ¡†æ¶ä»‹ç»</h3><h4 id="AOP-æ¨¡å¼ï¼ˆAspects-RunTime-ä»£æ›¿åŸºç±»ï¼‰-Category-æ–¹æ³•äº¤æ¢"><a href="#AOP-æ¨¡å¼ï¼ˆAspects-RunTime-ä»£æ›¿åŸºç±»ï¼‰-Category-æ–¹æ³•äº¤æ¢" class="headerlink" title="AOP æ¨¡å¼ï¼ˆAspects-RunTime ä»£æ›¿åŸºç±»ï¼‰+ Category æ–¹æ³•äº¤æ¢"></a>AOP æ¨¡å¼ï¼ˆAspects-RunTime ä»£æ›¿åŸºç±»ï¼‰+ Category æ–¹æ³•äº¤æ¢</h4><p>é‡‡ç”¨AOPæ€æƒ³ï¼Œä½¿ç”¨ Aspects æ¥å®Œæˆæ›¿æ¢ Controller ï¼ŒViewï¼ŒViewModelåŸºç±»ï¼Œå’ŒåŸºç±»è¯´æ‹œæ‹œ</p>
<p>Casaåé©å‘½å·¥ç¨‹å¸ˆ iOSåº”ç”¨æ¶æ„è°ˆ viewå±‚çš„ç»„ç»‡å’Œè°ƒç”¨æ–¹æ¡ˆ åšå®¢ä¸­æåˆ°ä¸€ä¸ªç–‘é—®<br>æ˜¯å¦æœ‰å¿…è¦è®©ä¸šåŠ¡æ–¹ç»Ÿä¸€æ´¾ç”ŸViewController</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935ce5f838?w=198&amp;h=166&amp;f=png&amp;s=36645" alt=""></p>
<p>Casaå¤§ç¥å›ç­”æ˜¯NOï¼ŒåŸå› å¦‚ä¸‹</p>
<ol>
<li>ä½¿ç”¨æ´¾ç”Ÿæ¯”ä¸ä½¿ç”¨æ´¾ç”Ÿæ›´å®¹æ˜“å¢åŠ ä¸šåŠ¡æ–¹çš„ä½¿ç”¨æˆæœ¬</li>
<li>ä¸ä½¿ç”¨æ´¾ç”Ÿæ‰‹æ®µä¸€æ ·ä¹Ÿèƒ½è¾¾åˆ°ç»Ÿä¸€è®¾ç½®çš„ç›®çš„<br>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œä» é›†æˆæˆæœ¬ ï¼Œä¸Šæ‰‹æˆæœ¬ ï¼Œæ¶æ„ç»´æŠ¤æˆæœ¬ç­‰å› ç´ å…¥æ‰‹ï¼Œå¤§ç¥åšå®¢ä¸­ä¹Ÿå·²ç»å¾ˆè¯¦ç»†ã€‚</li>
</ol>
<p>æ¡†æ¶ä¸éœ€è¦é€šè¿‡ç»§æ‰¿å³èƒ½å¤Ÿå¯¹ViewControllerè¿›è¡Œç»Ÿä¸€é…ç½®ã€‚ä¸šåŠ¡å³ä½¿è„±ç¦»ç¯å¢ƒï¼Œä¹Ÿèƒ½å¤Ÿè·‘å®Œä»£ç ï¼ŒViewControllerä¸€æ—¦æ”¾å…¥æ¡†æ¶ç¯å¢ƒï¼Œä¸éœ€è¦æ·»åŠ é¢å¤–çš„æˆ–è€…åªéœ€æ·»åŠ å°‘é‡ä»£ç ï¼Œæ¡†æ¶ä¹Ÿèƒ½å¤Ÿèµ·åˆ°ç›¸åº”çš„ä½œç”¨ å¯¹äºæœ¬äººæ¥è¯´ ï¼Œå…·å¤‡è¿™ç‚¹çš„å¸å¼•åŠ›ï¼Œå·²ç»è¶³å¤Ÿè®©æˆ‘æœ‰å°è¯•ä¸€ç•ªçš„å¿ƒæ€äº†ã€‚</p>
<p>å¯¹äºOCæ¥è¯´ï¼Œæ–¹æ³•æ‹¦æˆªå¾ˆå®¹æ˜“å°±æƒ³åˆ°è‡ªå¸¦çš„é»‘é­”æ³•æ–¹æ³•è°ƒé… Method Swizzlingï¼Œ è‡³äºä¸ºViewControlleråšåŠ¨æ€é…ç½®ï¼Œè‡ªç„¶éCategoryè«å±äº†<br>Method Swizzling ä¸šç•Œå·²ç»æœ‰éå¸¸æˆç†Ÿçš„ä¸‰æ–¹åº“ Aspects, æ‰€ä»¥Demoä»£ç é‡‡ç”¨ Aspects åšæ–¹æ³•æ‹¦æˆªã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)load &#123;</span><br><span class="line">    [<span class="keyword">super</span> load];</span><br><span class="line">    [FKViewControllerIntercepter sharedInstance];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// .... å•ä¾‹åˆå§‹åŒ–ä»£ç </span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)init &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="comment">/* æ–¹æ³•æ‹¦æˆª */</span></span><br><span class="line">        <span class="comment">// æ‹¦æˆª viewDidLoad æ–¹æ³•</span></span><br><span class="line">        [<span class="built_in">UIViewController</span> aspect_hookSelector:<span class="keyword">@selector</span>(viewDidLoad) withOptions:AspectPositionAfter usingBlock:^(<span class="keyword">id</span>&lt;AspectInfo&gt;aspectInfo)&#123;</span><br><span class="line">            [<span class="keyword">self</span> _viewDidLoad:aspectInfo.instance];</span><br><span class="line">        &#125;  error:<span class="literal">nil</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‹¦æˆª viewWillAppear:</span></span><br><span class="line">        [<span class="built_in">UIViewController</span> aspect_hookSelector:<span class="keyword">@selector</span>(viewWillAppear:) withOptions:AspectPositionAfter usingBlock:^(<span class="keyword">id</span>&lt;AspectInfo&gt; aspectInfo, <span class="built_in">BOOL</span> animated)&#123;</span><br><span class="line">            [<span class="keyword">self</span> _viewWillAppear:animated controller:aspectInfo.instance];</span><br><span class="line">        &#125; error:<span class="literal">NULL</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³äº Category å·²ç»éå¸¸ç†Ÿæ‚‰äº†</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UIViewController</span> (<span class="title">NonBase</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> å»Model&amp;&amp;è¡¨å¾åŒ–å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSDictionary</span> *params;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> ViewModel å±æ€§</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="keyword">id</span> &lt;FKViewControllerProtocol&gt; viewModel;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - é€šç”¨ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> è¿”å›Controllerçš„å½“å‰bounds</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @param hasNav æ˜¯å¦æœ‰å¯¼èˆªæ </span></span><br><span class="line"><span class="comment"> @param hasTabBar æ˜¯å¦æœ‰tabbar</span></span><br><span class="line"><span class="comment"> @return åæ ‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="built_in">CGRect</span>)fk_visibleBoundsShowNav:(<span class="built_in">BOOL</span>)hasNav showTabBar:(<span class="built_in">BOOL</span>)hasTabBar;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> éšè—é”®ç›˜</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)fk_hideKeyBoard;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†ä¸ç»§æ‰¿åŸºç±»æ¥å®ç°å¯¹ViewControllerçš„é…ç½®ï¼Œé¡¹ç›®ä¸­çš„ View ViewModel å»åŸºç±»åŸç†å¦‚å‡ºä¸€è¾™ã€‚</p>
<h4 id="Viewå±‚é‡‡ç”¨-MVVM-è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨-ReactiveObjC-è¿›è¡Œæ•°æ®ç»‘å®š"><a href="#Viewå±‚é‡‡ç”¨-MVVM-è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨-ReactiveObjC-è¿›è¡Œæ•°æ®ç»‘å®š" class="headerlink" title="Viewå±‚é‡‡ç”¨ MVVM è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨ ReactiveObjC è¿›è¡Œæ•°æ®ç»‘å®š"></a>Viewå±‚é‡‡ç”¨ MVVM è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨ ReactiveObjC è¿›è¡Œæ•°æ®ç»‘å®š</h4><p><em>-MVC-</em></p>
<p>ä½œä¸ºè€ç‰Œæ€æƒ³MVCï¼Œå¤§å®¶æ—©å·²è€³ç†Ÿèƒ½è¯¦ï¼ŒMVCç´ æœ‰ Massive VCä¹‹ç§°ï¼Œéšç€ä¸šåŠ¡å¢åŠ ï¼ŒControllerå°†ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œæœ€ç»ˆControllerä¼šå˜æˆä¸€ä¸ªâ€ç¥ç±»â€, å³æœ‰ç½‘ç»œè¯·æ±‚ç­‰ä»£ç ï¼Œåˆå……æ–¥ç€å¤§é‡ä¸šåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥ä¸ºControllerå‡è´Ÿï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å˜å¾—åŠ¿åœ¨å¿…è¡Œ</p>
<p><em>-MVVM-</em></p>
<p>MVVMæ˜¯åŸºäºèƒ–Modelçš„æ¶æ„æ€è·¯å»ºç«‹çš„ï¼Œç„¶ååœ¨èƒ–Modelä¸­æ‹†å‡ºä¸¤éƒ¨åˆ†ï¼šModelå’ŒViewModel (æ³¨ï¼šèƒ–Model æ˜¯æŒ‡åŒ…å«äº†ä¸€äº›å¼±ä¸šåŠ¡é€»è¾‘çš„Model)<br>èƒ–Modelå®é™…ä¸Šæ˜¯ä¸ºäº†å‡è´Ÿ Controller è€Œå­˜åœ¨çš„ï¼Œè€Œ MVVM æ˜¯ä¸ºäº†æ‹†åˆ†èƒ–Model , æœ€ç»ˆç›®çš„éƒ½æ˜¯ä¸ºäº†å‡è´ŸControllerã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œè‹¹æœMVCå¹¶æ²¡æœ‰ä¸“é—¨ä¸ºç½‘ç»œå±‚ä»£ç åˆ†ä¸“é—¨çš„å±‚çº§ï¼ŒæŒ‰ç…§ä»¥å¾€ä¹ æƒ¯ï¼Œå¤§å®¶éƒ½å†™åœ¨äº†Controller ä¸­ï¼Œè¿™ä¹Ÿæ˜¯Controller å˜Massiveå¾—å…ƒå‡¶ä¹‹ä¸€ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°†ç½‘ç»œè¯·æ±‚ç­‰è¯¸å¦‚æ­¤ç±»çš„ä»£ç æ”¾åˆ°ViewModelä¸­äº† ï¼ˆæ–‡ç« ååŠéƒ¨åˆ†å°†ä¼šæè¿°ViewModelä¸­çš„ç½‘ç»œè¯·æ±‚ï¼‰</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/7/1616f6935e05933d?w=215&amp;h=172&amp;f=png&amp;s=34900" alt=""></p>
<p><em>-æ•°æ®æµå‘-</em></p>
<p>æ­£å¸¸çš„ç½‘ç»œè¯·æ±‚è·å–æ•°æ®ï¼Œç„¶åæ›´æ–°Viewè‡ªç„¶ä¸å¿…å¤šè¯´ï¼Œé‚£ä¹ˆå¦‚æœViewäº§ç”Ÿäº†æ•°æ®è¦æ€ä¹ˆæŠŠæ•°æ®ç»™åˆ°Modelï¼Œç”±äºViewä¸ç›´æ¥æŒæœ‰ViewModelï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰ä¸ªæ¡¥æ¢ ReactiveCocoa, é€šè¿‡ Signal æ¥å’Œ ViewModel é€šä¿¡ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä½¿ç”¨ é€šçŸ¥ æˆ–è€… Target-Actionä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœï¼Œåªä¸è¿‡æ²¡æœ‰ ReactiveCocoa å¦‚æ­¤æ–¹ä¾¿ç½¢äº†</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  View -&gt; ViewModel ä¼ é€’æ•°æ®ç¤ºä¾‹   */</span></span><br><span class="line"><span class="meta">#pragma mark - Bind ViewModel</span></span><br><span class="line">- (<span class="keyword">void</span>)bindViewModel:(<span class="keyword">id</span>&lt;FKViewModelProtocol&gt;)viewModel withParams:(<span class="built_in">NSDictionary</span> *)params &#123;</span><br><span class="line">    <span class="keyword">if</span> ([viewModel isKindOfClass:[FKLoginViewModel <span class="keyword">class</span>]])&#123;</span><br><span class="line">        </span><br><span class="line">        FKLoginViewModel *_viewModel = (FKLoginViewModel *)viewModel;</span><br><span class="line">        <span class="comment">// ç»‘å®šè´¦å· View -&gt; ViewModel ä¼ é€’æ•°æ® </span></span><br><span class="line">        @weakify(<span class="keyword">self</span>);</span><br><span class="line">        RAC(_viewModel, userAccount) = [[<span class="keyword">self</span>.inputTextFiled.rac_textSignal takeUntil:<span class="keyword">self</span>.rac_prepareForReuseSignal] map:^<span class="keyword">id</span> _Nullable(<span class="built_in">NSString</span> * _Nullable account) &#123;</span><br><span class="line">            @strongify(<span class="keyword">self</span>);</span><br><span class="line">            <span class="comment">// é™åˆ¶è´¦å·é•¿åº¦</span></span><br><span class="line">            <span class="keyword">if</span> (account.length &gt; <span class="number">25</span>) &#123;</span><br><span class="line">                <span class="keyword">self</span>.inputTextFiled.text = [account substringToIndex:<span class="number">25</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.inputTextFiled.text;</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ç»™å‡ºäº† View -&gt; ViewModel ç»‘å®šçš„ä¸€ä¸ªä¾‹å­ å…·ä½“ä¸€äº›è¯¦æƒ…ï¼Œå¯ä»¥ç›´æ¥çœ‹Demo<br>MVVMä¸€äº›æ€»ç»“ï¼š</p>
<ol>
<li>View <-> C <-> ViewModel <-> Model å®é™…ä¸Šåº”è¯¥ç§°ä¹‹ä¸ºMVCVM</-></-></-></li>
<li>Controller å°†ä¸å†ç›´æ¥å’Œ Model è¿›è¡Œç»‘å®šï¼Œè€Œé€šè¿‡æ¡¥æ¢ViewModel</li>
<li>æœ€ç»ˆ Controller çš„ä½œç”¨å˜æˆä¸€äº›UIçš„å¤„ç†é€»è¾‘ï¼Œå’Œè¿›è¡ŒViewå’ŒViewModelçš„ç»‘å®š</li>
<li>MVVM å’Œ MVC å…¼å®¹</li>
<li>ç”±äºå¤šäº†ä¸€å±‚ ViewModel, ä¼šéœ€è¦å†™ä¸€äº›èƒ¶æ°´ä»£ç ï¼Œæ‰€ä»¥ä»£ç é‡ä¼šå¢åŠ </li>
</ol>
<h4 id="ç½‘ç»œå±‚ä½¿ç”¨-YTKNetwork-é…åˆ-ReactiveCocoa-å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–-ç­‰é—®é¢˜"><a href="#ç½‘ç»œå±‚ä½¿ç”¨-YTKNetwork-é…åˆ-ReactiveCocoa-å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–-ç­‰é—®é¢˜" class="headerlink" title="ç½‘ç»œå±‚ä½¿ç”¨ YTKNetwork é…åˆ ReactiveCocoa å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–)ç­‰é—®é¢˜"></a>ç½‘ç»œå±‚ä½¿ç”¨ YTKNetwork é…åˆ ReactiveCocoa å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–)ç­‰é—®é¢˜</h4><p>YTKNetwork æ˜¯çŒ¿é¢˜åº“ iOS ç ”å‘å›¢é˜ŸåŸºäº AFNetworking å°è£…çš„ iOS ç½‘ç»œåº“ï¼Œå…¶å®ç°äº†ä¸€å¥— High Level çš„ APIï¼Œæä¾›äº†æ›´é«˜å±‚æ¬¡çš„ç½‘ç»œè®¿é—®æŠ½è±¡ã€‚</p>
<p>ç¬”è€…å¯¹ YTKNetwork è¿›è¡Œäº†ä¸€äº›å°è£…ï¼Œç»“åˆ ReactiveCocoaï¼Œå¹¶æä¾› reFormatter æ¥å£å¯¹æœåŠ¡å™¨å“åº”æ•°æ®é‡æ–°å¤„ç†ï¼Œçµæ´»äº¤ä»˜ç»™ä¸šåŠ¡å±‚ã€‚<br>æ¥ä¸‹æ¥ï¼Œæœ¬æ–‡ä¼šå›ç­”ä¸¤ä¸ªé—®é¢˜</p>
<ol>
<li>ä»¥ä»€ä¹ˆæ–¹å¼å°†æ•°æ®äº¤ä»˜ç»™ä¸šåŠ¡å±‚ï¼Ÿ</li>
<li>äº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ® ?<br>å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜</li>
</ol>
<p><em>ä»¥ä»€ä¹ˆæ–¹å¼å°†æ•°æ®äº¤ä»˜ç»™ä¸šåŠ¡å±‚ï¼Ÿ</em></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/7/1616f69385b2261c?w=181&amp;h=131&amp;f=png&amp;s=34097" alt=""></p>
<p>è™½ç„¶ iOSåº”ç”¨æ¶æ„è°ˆ ç½‘ç»œå±‚è®¾è®¡æ–¹æ¡ˆ ä¸­ Casaå¤§ç¥å†™åˆ° å°½é‡ä¸è¦ç”¨blockï¼Œåº”è¯¥ä½¿ç”¨ä»£ç†<br>çš„ç¡®ï¼ŒBlockéš¾ä»¥è¿½è¸ªå’Œå®šä½é”™è¯¯ï¼Œå®¹æ˜“å†…å­˜æ³„æ¼ï¼Œ YTKNetwork ä¹Ÿæä¾›ä»£ç†æ–¹å¼å›è°ƒ</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">YTKRequestDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line"><span class="comment">///  Tell the delegate that the request has finished successfully.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///  @param request The corresponding request.</span></span><br><span class="line">- (<span class="keyword">void</span>)requestFinished:(__kindof YTKBaseRequest *)request;</span><br><span class="line"></span><br><span class="line"><span class="comment">///  Tell the delegate that the request has failed.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///  @param request The corresponding request.</span></span><br><span class="line">- (<span class="keyword">void</span>)requestFailed:(__kindof YTKBaseRequest *)request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>å‰æ–‡æœ‰è¯´è¿‡ï¼ŒMVVM å¹¶ä¸ç­‰äº ReactiveCocoa , ä½†æ˜¯æƒ³è¦ä½“éªŒæœ€çº¯æ­£çš„ ReactiveCocoa è¿˜æ˜¯Blockè¾ƒä¸ºé…¸çˆ½ï¼ŒDemoä¸­ç¬”è€…ä¸¤è€…éƒ½ç»™å‡ºäº†ä»£ç , å¤§å®¶å¯ä»¥è‡ªè¡Œé€‰æ‹©å’Œæ–Ÿé…Œå“ˆ<br>æˆ‘ä»¬çœ‹ä¸€ä¸‹ YTKNetwork å’Œ ReactiveCocoa ç»“åˆçš„ä»£ç </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (RACSignal *)rac_requestSignal &#123;</span><br><span class="line">    [<span class="keyword">self</span> stop];</span><br><span class="line">    RACSignal *signal = [[RACSignal createSignal:^RACDisposable * _Nullable(<span class="keyword">id</span>&lt;RACSubscriber&gt;  _Nonnull subscriber) &#123;</span><br><span class="line">        <span class="comment">// è¯·æ±‚èµ·é£</span></span><br><span class="line">        [<span class="keyword">self</span> startWithCompletionBlockWithSuccess:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">            <span class="comment">// æˆåŠŸå›è°ƒ</span></span><br><span class="line">            [subscriber sendNext:[request responseJSONObject]];</span><br><span class="line">            [subscriber sendCompleted];</span><br><span class="line">            </span><br><span class="line">        &#125; failure:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">            <span class="comment">// é”™è¯¯å›è°ƒ</span></span><br><span class="line">            [subscriber sendError:[request error]];</span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [RACDisposable disposableWithBlock:^&#123;</span><br><span class="line">            <span class="comment">// Signalé”€æ¯ åœæ­¢è¯·æ±‚</span></span><br><span class="line">            [<span class="keyword">self</span> stop];</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;] takeUntil:[<span class="keyword">self</span> rac_willDeallocSignal]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è®¾ç½®åç§° ä¾¿äºè°ƒè¯•</span></span><br><span class="line">    <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">        [signal setNameWithFormat:<span class="string">@"%@ -rac_xzwRequest"</span>,  RACDescription(<span class="keyword">self</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> signal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†™äº†ä¸€ä¸ªç®€å•çš„ Category FKBaseRequest+Rac.h<br>ViewModel ä¸­ä½¿ç”¨ RACCommand å°è£…è°ƒç”¨ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (RACCommand *)loginCommand &#123;</span><br><span class="line">    <span class="keyword">if</span> (!_loginCommand) &#123;</span><br><span class="line">        @weakify(<span class="keyword">self</span>);</span><br><span class="line">        _loginCommand = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(<span class="keyword">id</span>  _Nullable input) &#123;</span><br><span class="line">            @strongify(<span class="keyword">self</span>);</span><br><span class="line">      </span><br><span class="line">            <span class="keyword">return</span> [[[FKLoginRequest alloc] initWithUsr:<span class="keyword">self</span>.userAccount pwd:<span class="keyword">self</span>.password] rac_requestSignal];</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _loginCommand;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Blockæ–¹å¼äº¤ä»˜ä¸šåŠ¡<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FKLoginRequest *loginRequest = [[FKLoginRequest alloc] initWithUsr:<span class="keyword">self</span>.userAccount pwd:<span class="keyword">self</span>.password];</span><br><span class="line"><span class="keyword">return</span> [[[loginRequest rac_requestSignal] doNext:^(<span class="keyword">id</span>  _Nullable x) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è§£ææ•°æ®</span></span><br><span class="line">    [[<span class="built_in">NSUserDefaults</span> standardUserDefaults] setObject:@(<span class="literal">YES</span>) forKey:<span class="string">@"isLogin"</span>];</span><br><span class="line">    </span><br><span class="line">&#125;] materialize];</span><br></pre></td></tr></table></figure></p>
<p>Delegateæ–¹å¼äº¤ä»˜ä¸šåŠ¡<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FKLoginRequest *loginRequest = [[FKLoginRequest alloc] initWithUsr:<span class="keyword">self</span>.userAccount pwd:<span class="keyword">self</span>.password];</span><br><span class="line"><span class="comment">// æ•°æ®è¯·æ±‚å“åº”ä»£ç† é€šè¿‡ä»£ç†å›è°ƒ</span></span><br><span class="line">loginRequest.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="keyword">return</span> [loginRequest rac_requestSignal];</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - YTKRequestDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)requestFinished:(__kindof YTKBaseRequest *)request &#123;</span><br><span class="line">    <span class="comment">// è§£ææ•°æ®</span></span><br><span class="line">    [[<span class="built_in">NSUserDefaults</span> standardUserDefaults] setObject:@(<span class="literal">YES</span>) forKey:<span class="string">@"isLogin"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><em>äº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ® ?</em></p>
<p>ç°åœ¨è¯¸å¦‚ JSONModel ï¼ŒYYModel ä¹‹ç±»çš„Jsonè½¬Modelçš„åº“ä¹Ÿéå¸¸å¤šï¼Œå¤§å¤šæ•°Jsonå¯¹è±¡ï¼Œç½‘ç»œè¯·æ±‚æˆåŠŸç›´æ¥å°±è¢«è½¬æˆModeläº†<br>ç„¶è€Œ iOSåº”ç”¨æ¶æ„è°ˆ ç½‘ç»œå±‚è®¾è®¡æ–¹æ¡ˆ ä¸­ç»™å‡ºäº†ä¸¤ç§æœ‰æ„æ€çš„äº¤ä»˜æ€è·¯</p>
<ol>
<li>ä½¿ç”¨ reformer å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—</li>
<li>å»ç‰¹å®šå¯¹è±¡è¡¨å¾ ï¼ˆå»Modelï¼‰</li>
</ol>
<p>Casaæ–‡ç« ä¸­å¥½å¤„å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†ï¼Œé€šè¿‡ä¸åŒçš„ reformer æ¥é‡å¡‘å’Œäº¤ä»˜ä¸åŒçš„ä¸šåŠ¡æ•°æ®ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸çµæ´»äº†</p>
<p><em>ä½¿ç”¨ reformer å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—</em></p>
<p>åœ¨ç½‘ç»œå±‚å°è£… FKBaseRequest.h ä¸­ ç»™å‡ºäº† FKBaseRequestFeformDelegate æ¥å£æ¥é‡å¡‘æ•°æ®<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">FKBaseRequestFeformDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> è‡ªå®šä¹‰è§£æå™¨è§£æå“åº”å‚æ•°</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param request å½“å‰è¯·æ±‚</span></span><br><span class="line"><span class="comment"> @param jsonResponse å“åº”æ•°æ®</span></span><br><span class="line"><span class="comment"> @return è‡ªå®šreformatæ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">id</span>)request:(FKBaseRequest *)request reformJSONResponse:(<span class="keyword">id</span>)jsonResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line">ç„¶ååœ¨å¯¹åº”çš„ reformer å¯¹æ•°æ®è¿›è¡Œé‡å¡‘</span><br><span class="line"><span class="meta">#pragma mark - FKBaseRequestFeformDelegate</span></span><br><span class="line">- (<span class="keyword">id</span>)request:(FKBaseRequest *)request reformJSONResponse:(<span class="keyword">id</span>)jsonResponse &#123;</span><br><span class="line">    <span class="keyword">if</span>([request isKindOfClass:FKLoginRequest.class])&#123;</span><br><span class="line">        <span class="comment">// åœ¨è¿™é‡Œå¯¹jsonæ•°æ®è¿›è¡Œé‡æ–°æ ¼å¼åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> jsonResponse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å­ç±»çš„ RequestManager ä¸­è¦†ç›–çˆ¶ç±»æ–¹æ³•è¾¾åˆ°ä¸€æ ·çš„æ•ˆæœ<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* FKLoginRequest.m */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥åœ¨è¿™é‡Œå¯¹response æ•°æ®è¿›è¡Œé‡æ–°æ ¼å¼åŒ–ï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨delegate è®¾ç½® reformattor</span></span><br><span class="line">- (<span class="keyword">id</span>)reformJSONResponse:(<span class="keyword">id</span>)jsonResponse &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><em>å»ç‰¹å®šå¯¹è±¡è¡¨å¾ ï¼ˆå»Modelï¼‰</em></p>
<p>è¿™æ€è·¯å¯ä»¥è¯´æ˜¯ä¸šç•Œçš„æ³¥çŸ³æµäº†<br>å»Modelä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨NSDictionaryå½¢å¼äº¤ä»˜æ•°æ®ï¼Œå¯¹äºç½‘ç»œå±‚è€Œè¨€ï¼Œåªéœ€è¦ä¿æŒä½åŸå§‹æ•°æ®å³å¯ï¼Œä¸éœ€è¦ä¸»åŠ¨è½¬åŒ–æˆæ•°æ®åŸå‹<br>ä½†æ˜¯ä¼šå­˜åœ¨ä¸€äº›å°é—®é¢˜</p>
<ol>
<li>å»Modelå¦‚ä½•ä¿æŒå¯è¯»æ€§ï¼Ÿ</li>
<li>å¤æ‚å’Œå¤šæ ·çš„æ•°æ®ç»“æ„å¦‚ä½•è§£æï¼Ÿ</li>
</ol>
<p>Casaå¤§ç¥ æå‡ºäº† ä½¿ç”¨EXTERN + Const å­—ç¬¦ä¸²å½¢å¼ï¼Œå¹¶å»ºè®®å­—ç¬¦ä¸²è·Ÿç€reformerèµ°ï¼Œä¸ªäººè§‰å¾—å¾ˆå¤šæ—¶å€™APIåªéœ€è¦ä¸€ç§è§£ææ ¼å¼ï¼Œæ‰€ä»¥Demoè·Ÿç€ APIManager èµ°ï¼Œå…¶ä»–æƒ…å†µä¸‹å¸¸é‡å­—ç¬¦ä¸²å»ºè®®å¬ä» Casaå¤§ç¥ çš„å»ºè®®ï¼Œ<br>å¸¸é‡å®šä¹‰ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* FKBaseRequest.h */</span></span><br><span class="line"><span class="comment">// ç™»å½•token key</span></span><br><span class="line">FOUNDATION_EXTERN <span class="built_in">NSString</span> *FKLoginAccessTokenKey;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* FKBaseRequest.m */</span></span><br><span class="line"><span class="built_in">NSString</span> *FKLoginAccessTokenKey = <span class="string">@"accessToken"</span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨ .h å’Œ .m æ–‡ä»¶ä¸­è¦åŒæ—¶å†™å¤ªå¤šä»£ç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å±€éƒ¨å¸¸é‡çš„å½¢å¼ï¼Œåªè¦åœ¨ .h æ–‡ä»¶ä¸­å®šä¹‰å³å¯</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥å†™æˆ å±€éƒ¨å¸¸é‡å½¢å¼</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSString</span> *FKLoginAccessTokenKey2 = <span class="string">@"accessToken"</span>;</span><br><span class="line">æœ€ç»ˆé‚£ä¹ˆæˆ‘ä»¬çš„reformerå¯èƒ½ä¼šå˜æˆè¿™æ ·å­</span><br><span class="line">- (<span class="keyword">id</span>)request:(FKBaseRequest *)request reformJSONResponse:(<span class="keyword">id</span>)jsonResponse &#123;</span><br><span class="line">    <span class="keyword">if</span>([request isKindOfClass:FKLoginRequest.class])&#123;</span><br><span class="line">        <span class="comment">// åœ¨è¿™é‡Œå¯¹jsonæ•°æ®è¿›è¡Œé‡æ–°æ ¼å¼åŒ–</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> @&#123;</span><br><span class="line">                 FKLoginAccessTokenKey : jsonResponse[<span class="string">@"token"</span>],</span><br><span class="line">                 &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> jsonResponse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤æ‚å’Œå¤šæ ·çš„æ•°æ®ç»“æ„å¦‚ä½•è§£æï¼Ÿ<br>æœ‰æ—¶å€™ï¼Œreformer äº¤ä»˜è¿‡æ¥çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦è§£æçš„å¯èƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¹Ÿå¯èƒ½æ˜¯NSNumberç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°ç»„<br>ä¸ºæ­¤ï¼Œç¬”è€…æä¾›äº†ä¸€ç³»åˆ— Encode Decodeæ–¹æ³•ï¼Œæ¥é™ä½è§£æçš„å¤æ‚åº¦å’Œå®‰å…¨æ€§<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - Encode Decode æ–¹æ³•</span></span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSString</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSString</span>* DecodeObjectFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key);</span><br><span class="line"><span class="comment">// NSArray + index -&gt; id</span></span><br><span class="line">FK_EXTERN <span class="keyword">id</span>        DecodeSafeObjectAtIndex(<span class="built_in">NSArray</span> *arr, <span class="built_in">NSInteger</span> index);</span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSString</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSString</span>     * DecodeStringFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key);</span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSString ï¼Ÿ NSString ï¼š defaultStr</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSString</span>* DecodeDefaultStrFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key,<span class="built_in">NSString</span> * defaultStr);</span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSNumber</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSNumber</span>     * DecodeNumberFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key);</span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSDictionary</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSDictionary</span> *DecodeDicFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key);</span><br><span class="line"><span class="comment">// NSDictionary -&gt; NSArray</span></span><br><span class="line">FK_EXTERN <span class="built_in">NSArray</span>      *DecodeArrayFromDic(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key);</span><br><span class="line">FK_EXTERN <span class="built_in">NSArray</span>      *DecodeArrayFromDicUsingParseBlock(<span class="built_in">NSDictionary</span> *dic, <span class="built_in">NSString</span> *key, <span class="keyword">id</span>(^parseBlock)(<span class="built_in">NSDictionary</span> *innerDic));</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - Encode Decode æ–¹æ³•</span></span><br><span class="line"><span class="comment">// (nonull Key: nonull NSString) -&gt; NSMutableDictionary</span></span><br><span class="line">FK_EXTERN <span class="keyword">void</span> EncodeUnEmptyStrObjctToDic(<span class="built_in">NSMutableDictionary</span> *dic,<span class="built_in">NSString</span> *object, <span class="built_in">NSString</span> *key);</span><br><span class="line"><span class="comment">// nonull objec -&gt; NSMutableArray</span></span><br><span class="line">FK_EXTERN <span class="keyword">void</span> EncodeUnEmptyObjctToArray(<span class="built_in">NSMutableArray</span> *arr,<span class="keyword">id</span> object);</span><br><span class="line"><span class="comment">// (nonull (Key ? key : defaultStr) : nonull Value) -&gt; NSMutableDictionary</span></span><br><span class="line">FK_EXTERN <span class="keyword">void</span> EncodeDefaultStrObjctToDic(<span class="built_in">NSMutableDictionary</span> *dic,<span class="built_in">NSString</span> *object, <span class="built_in">NSString</span> *key,<span class="built_in">NSString</span> * defaultStr);</span><br><span class="line"><span class="comment">// (nonull Key: nonull object) -&gt; NSMutableDictionary</span></span><br><span class="line">FK_EXTERN <span class="keyword">void</span> EncodeUnEmptyObjctToDic(<span class="built_in">NSMutableDictionary</span> *dic,<span class="built_in">NSObject</span> *object, <span class="built_in">NSString</span> *key);</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬çš„reformerå¯ä»¥å†™æˆè¿™æ ·å­<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - FKBaseRequestFeformDelegate</span></span><br><span class="line">- (<span class="keyword">id</span>)request:(FKBaseRequest *)request reformJSONResponse:(<span class="keyword">id</span>)jsonResponse &#123;</span><br><span class="line">    <span class="keyword">if</span>([request isKindOfClass:FKLoginRequest.class])&#123;</span><br><span class="line">        <span class="comment">// åœ¨è¿™é‡Œå¯¹jsonæ•°æ®è¿›è¡Œé‡æ–°æ ¼å¼åŒ–</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> @&#123;</span><br><span class="line">                 FKLoginAccessTokenKey : DecodeStringFromDic(jsonResponse, <span class="string">@"token"</span>)</span><br><span class="line">                 &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> jsonResponse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è§£ææœ‰å¯èƒ½æ˜¯è¿™æ ·å­<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *token = DecodeStringFromDic(jsonResponse, FKLoginAccessTokenKey)</span><br></pre></td></tr></table></figure></p>
<p>å¥½äº†ï¼Œè‡³æ­¤æˆ‘ä»¬è§£å†³äº†ä¸¤ä¸ªé—®é¢˜</p>
<ol>
<li>ä»¥ä»€ä¹ˆæ–¹å¼å°†æ•°æ®äº¤ä»˜ç»™ä¸šåŠ¡å±‚<br>ç­”ï¼šdelegate æœ€ä½³ï¼Œblockä¸ºæ¬¡</li>
<li>äº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®<br>ç­”ï¼šçº¯å­—å…¸ï¼Œå»Model</li>
</ol>
<h4 id="é‡‡ç”¨-JLRoutes-è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦"><a href="#é‡‡ç”¨-JLRoutes-è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦" class="headerlink" title="é‡‡ç”¨ JLRoutes è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦"></a>é‡‡ç”¨ JLRoutes è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦</h4><p><img src="https://user-gold-cdn.xitu.io/2018/4/25/162fc3254daa470b?w=468&amp;h=368&amp;f=png&amp;s=37364" alt=""></p>
<p>å¸¦ç€é—®é¢˜æ€è€ƒå¦‚ä½•æ‰èƒ½è®¾è®¡å‡ºæœ€å¥½çš„ç»„ä»¶åŒ–è·¯ç”±ï¼š</p>
<ul>
<li>1ï¼‰3D-TouchåŠŸèƒ½æˆ–è€…ç‚¹å‡»æ¨é€æ¶ˆæ¯ï¼Œè¦æ±‚å¤–éƒ¨è·³è½¬åˆ°Appå†…éƒ¨ä¸€ä¸ªå¾ˆæ·±å±‚æ¬¡çš„ä¸€ä¸ªç•Œé¢ã€‚</li>
<li>2ï¼‰è‡ªå®¶çš„ä¸€ç³»åˆ—Appä¹‹é—´å¦‚ä½•ç›¸äº’è·³è½¬ï¼Ÿ</li>
<li>3ï¼‰å¦‚ä½•è§£é™¤Appç»„ä»¶ä¹‹é—´å’ŒAppé¡µé¢ä¹‹é—´çš„è€¦åˆæ€§ï¼Ÿ</li>
<li>4ï¼‰å¦‚ä½•èƒ½ç»Ÿä¸€iOSå’ŒAndroidä¸¤ç«¯çš„é¡µé¢è·³è½¬é€»è¾‘ï¼Ÿç”šè‡³å¦‚ä½•èƒ½ç»Ÿä¸€ä¸‰ç«¯çš„è¯·æ±‚èµ„æºçš„æ–¹å¼ï¼Ÿ</li>
<li>5ï¼‰å¦‚æœä½¿ç”¨äº†åŠ¨æ€ä¸‹å‘é…ç½®æ–‡ä»¶æ¥é…ç½®Appçš„è·³è½¬é€»è¾‘ï¼Œé‚£ä¹ˆå¦‚æœåšåˆ°iOSå’ŒAndroidä¸¤è¾¹åªè¦å…±ç”¨ä¸€å¥—é…ç½®æ–‡ä»¶ï¼Ÿ</li>
<li>6ï¼‰å¦‚æœAppå‡ºç°bugäº†ï¼Œå¦‚ä½•ä¸ç”¨JSPatchï¼Œå°±èƒ½åšåˆ°ç®€å•çš„çƒ­ä¿®å¤åŠŸèƒ½ï¼Ÿ</li>
<li>7ï¼‰å¦‚ä½•åœ¨æ¯ä¸ªç»„ä»¶é—´è°ƒç”¨å’Œé¡µé¢è·³è½¬æ—¶éƒ½è¿›è¡ŒåŸ‹ç‚¹ç»Ÿè®¡ï¼Ÿæ¯ä¸ªè·³è½¬çš„åœ°æ–¹éƒ½æ‰‹å†™ä»£ç åŸ‹ç‚¹ï¼Ÿåˆ©ç”¨Runtime AOP ï¼Ÿ</li>
<li>8ï¼‰å¦‚ä½•åœ¨æ¯ä¸ªç»„ä»¶é—´è°ƒç”¨çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ å…¥è°ƒç”¨çš„é€»è¾‘æ£€æŸ¥ï¼Œä»¤ç‰Œæœºåˆ¶ï¼Œé…åˆç°åº¦è¿›è¡Œé£æ§é€»è¾‘ï¼Ÿ</li>
<li>9ï¼‰å¦‚ä½•åœ¨Appä»»ä½•ç•Œé¢éƒ½å¯ä»¥è°ƒç”¨åŒä¸€ä¸ªç•Œé¢æˆ–è€…åŒä¸€ä¸ªç»„ä»¶ï¼Ÿåªèƒ½åœ¨AppDelegateé‡Œé¢æ³¨å†Œå•ä¾‹æ¥å®ç°ï¼Ÿ</li>
</ul>
<p>iOSåº”ç”¨æ¶æ„è°ˆ ç»„ä»¶åŒ–æ–¹æ¡ˆ ä¸€æ–‡ä¸­ Casa é’ˆå¯¹ è˜‘è‡è¡—ç»„ä»¶åŒ– æå‡ºäº†è´¨ç–‘ï¼Œè´¨ç–‘ç‚¹ä¸»è¦åœ¨è¿™å‡ æ–¹é¢</p>
<ol>
<li>Appå¯åŠ¨æ—¶ç»„ä»¶éœ€è¦æ³¨å†ŒURL</li>
<li>URLè°ƒç”¨ç»„ä»¶æ–¹å¼ä¸å¤ªå¥½ä¼ é€’ç±»ä¼¼ UIImage ç­‰éå¸¸è§„å¯¹è±¡</li>
<li>URLéœ€è¦æ·»åŠ é¢å¤–å‚æ•°å¯è¯»æ€§å·®ï¼Œæ‰€ä»¥æ²¡å¿…è¦ä½¿ç”¨URL</li>
</ol>
<p>å¯¹äº Appå¯åŠ¨æ—¶ç»„ä»¶éœ€è¦æ³¨å†ŒURL é¡¾è™‘ä¸»è¦åœ¨äºï¼Œæ³¨å†Œçš„URLéœ€è¦åœ¨åº”ç”¨ç”Ÿå­˜å‘¨æœŸå†…å¸¸é©»å†…å­˜ï¼Œå¦‚æœæ˜¯æ³¨å†ŒClassè¿˜å¥½äº›ï¼Œå¦‚æœæ³¨å†Œçš„æ˜¯å®ä¾‹ï¼Œæ¶ˆè€—çš„å†…å­˜å°±éå¸¸å¯è§‚äº†</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - è·¯ç”±è¡¨</span></span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> FKNavPushRoute = <span class="string">@"/com_madao_navPush/:viewController"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> FKNavPresentRoute = <span class="string">@"/com_madao_navPresent/:viewController"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> FKNavStoryBoardPushRoute = <span class="string">@"/com_madao_navStoryboardPush/:viewController"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> FKComponentsCallBackRoute = <span class="string">@"/com_madao_callBack/*"</span>;</span><br></pre></td></tr></table></figure>
<p>è€Œä¸”JLRoutes è¿˜æ”¯æŒ * æ¥è¿›è¡Œé€šé…ï¼Œè·¯ç”±è¡¨å¦‚ä½•ç¼–å†™å¤§å®¶å¯ä»¥è‡ªç”±å‘æŒ¥<br>å¯¹åº”çš„è·¯ç”±äº‹ä»¶ handler</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// push</span></span><br><span class="line"><span class="comment">// è·¯ç”± /com_madao_navPush/:viewController</span></span><br><span class="line">[[JLRoutes globalRoutes] addRoute:FKNavPushRoute handler:^<span class="built_in">BOOL</span>(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *,<span class="keyword">id</span>&gt; * _Nonnull parameters) &#123;</span><br><span class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [<span class="keyword">self</span> _handlerSceneWithPresent:<span class="literal">NO</span> parameters:parameters];</span><br><span class="line">        </span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// present</span></span><br><span class="line"><span class="comment">// è·¯ç”± /com_madao_navPresent/:viewController</span></span><br><span class="line">[[JLRoutes globalRoutes] addRoute:FKNavPresentRoute handler:^<span class="built_in">BOOL</span>(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *,<span class="keyword">id</span>&gt; * _Nonnull parameters) &#123;</span><br><span class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [<span class="keyword">self</span> _handlerSceneWithPresent:<span class="literal">YES</span> parameters:parameters];</span><br><span class="line">        </span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - Private</span></span><br><span class="line"><span class="comment">/// å¤„ç†è·³è½¬äº‹ä»¶</span></span><br><span class="line">- (<span class="keyword">void</span>)_handlerSceneWithPresent:(<span class="built_in">BOOL</span>)isPresent parameters:(<span class="built_in">NSDictionary</span> *)parameters &#123;</span><br><span class="line">    <span class="comment">// å½“å‰æ§åˆ¶å™¨</span></span><br><span class="line">    <span class="built_in">NSString</span> *controllerName = [parameters objectForKey:FKControllerNameRouteParam];</span><br><span class="line">    <span class="built_in">UIViewController</span> *currentVC = [<span class="keyword">self</span> _currentViewController];</span><br><span class="line">    <span class="built_in">UIViewController</span> *toVC = [[<span class="built_in">NSClassFromString</span>(controllerName) alloc] init];</span><br><span class="line">    toVC.params = parameters;</span><br><span class="line">    <span class="keyword">if</span> (currentVC &amp;&amp; currentVC.navigationController) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isPresent) &#123;</span><br><span class="line">            [currentVC.navigationController presentViewController:toVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            [currentVC.navigationController pushViewController:toVC animated:<span class="literal">YES</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡URLä¸­ä¼ å…¥çš„ç»„ä»¶ååŠ¨æ€æ³¨å†Œï¼Œå¤„ç†ç›¸åº”è·³è½¬äº‹ä»¶ï¼Œå¹¶ä¸éœ€è¦æ¯ä¸ªç»„ä»¶ä¸€ä¸€æ³¨å†Œ<br>ä½¿ç”¨URLè·¯ç”±ï¼Œå¿…ç„¶URLä¼šæ•£è½åˆ°ä»£ç å„ä¸ªåœ°æ–¹</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *key = <span class="string">@"key"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *value = <span class="string">@"value"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *url = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"/com_madao_navPush/%@?%@=%@"</span>, <span class="built_in">NSStringFromClass</span>(ViewController.class), key, value];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] openURL:[<span class="built_in">NSURL</span> URLWithString:url]];</span><br></pre></td></tr></table></figure>
<p>è¯¸å¦‚æ­¤ç±»ä¸‘é™‹çš„ä»£ç ï¼Œæ•£è½åœ¨å„ä¸ªåœ°æ–¹çš„è¯ç®€ç›´ä¼šè®©äººå¤´çš®å‘éº», æ‰€ä»¥ç¬”è€…åœ¨ JLRoutes+GenerateURL.h å†™äº†ä¸€äº› Helperæ–¹æ³•<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> é¿å… URL æ•£è½å„å¤„ï¼Œ é›†ä¸­ç”ŸæˆURL</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @param pattern åŒ¹é…æ¨¡å¼</span></span><br><span class="line"><span class="comment"> @param parameters é™„å¸¦å‚æ•°</span></span><br><span class="line"><span class="comment"> @return URLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)fk_generateURLWithPattern:(<span class="built_in">NSString</span> *)pattern parameters:(<span class="built_in">NSArray</span> *)parameters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> é¿å… URL æ•£è½å„å¤„ï¼Œ é›†ä¸­ç”ŸæˆURL</span></span><br><span class="line"><span class="comment"> é¢å¤–å‚æ•°å°†è¢« ?key=value&amp;key2=value2 æ ·å¼ç»™å‡º</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @param pattern åŒ¹é…æ¨¡å¼</span></span><br><span class="line"><span class="comment"> @param parameters é™„åŠ å‚æ•°</span></span><br><span class="line"><span class="comment"> @param extraParameters é¢å¤–å‚æ•°</span></span><br><span class="line"><span class="comment"> @return URLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)fk_generateURLWithPattern:(<span class="built_in">NSString</span> *)pattern parameters:(<span class="built_in">NSArray</span> *)parameters extraParameters:(<span class="built_in">NSDictionary</span> *)extraParameters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> è§£æNSURLå¯¹è±¡ä¸­çš„è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">http://madao?param1=value1Â¶m2=value2 è§£ææˆ @&#123;param1:value1, param2:value2&#125;</span></span><br><span class="line"><span class="comment"> @param URL NSURLå¯¹è±¡</span></span><br><span class="line"><span class="comment"> @return URLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)fk_parseParamsWithURL:(<span class="built_in">NSURL</span> *)URL;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> å°†å‚æ•°å¯¹è±¡è¿›è¡Œurlç¼–ç </span></span><br><span class="line"><span class="comment"> å°†@&#123;param1:value1, param2:value2&#125; è½¬æ¢æˆ ?param1=value1&amp;param2=value2</span></span><br><span class="line"><span class="comment"> @param dic å‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="comment"> @return URLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)fk_mapDictionaryToURLQueryString:(<span class="built_in">NSDictionary</span> *)dic;</span><br></pre></td></tr></table></figure></p>
<p>å®å®šä¹‰Helper<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#undef JLRGenRoute</span></span><br><span class="line"><span class="meta">#define JLRGenRoute(Schema, path) \</span></span><br><span class="line">([<span class="built_in">NSString</span> stringWithFormat: <span class="string">@"%@:/%@"</span>, \</span><br><span class="line">Schema, \</span><br><span class="line">path])</span><br><span class="line"></span><br><span class="line"><span class="meta">#undef JLRGenRouteURL</span></span><br><span class="line"><span class="meta">#define JLRGenRouteURL(Schema, path) \</span></span><br><span class="line">([<span class="built_in">NSURL</span> URLWithString: \</span><br><span class="line">JLRGenRoute(Schema, path)])</span><br></pre></td></tr></table></figure></p>
<p>æœ€ç»ˆæˆ‘ä»¬çš„è°ƒç”¨å¯ä»¥å˜æˆ<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *router = [JLRoutes fk_generateURLWithPattern:FKNavPushRoute parameters:@[<span class="built_in">NSStringFromClass</span>(ViewController.class)] extraParameters:<span class="literal">nil</span>];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] openURL:JLRGenRouteURL(FKDefaultRouteSchema, router)];</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="ğŸ“-æ•´ç†åˆ¶ä½œ"><a href="#ğŸ“-æ•´ç†åˆ¶ä½œ" class="headerlink" title="ğŸ“ æ•´ç†åˆ¶ä½œ"></a>ğŸ“ æ•´ç†åˆ¶ä½œ</h3><p>Casa Taloyumï¼š<a href="https://casatwy.com/modulization_in_action.html" target="_blank" rel="noopener">https://casatwy.com/modulization_in_action.html</a>  </p>
<p>ç®€ä¹¦åšå®¢ï¼š<a href="http://www.jianshu.com/p/921dd65e79cb" target="_blank" rel="noopener">http://www.jianshu.com/p/921dd65e79cb</a>  </p>
<hr>
<h3 id="ğŸ˜¬-è”ç³»"><a href="#ğŸ˜¬-è”ç³»" class="headerlink" title="ğŸ˜¬ è”ç³»"></a>ğŸ˜¬ è”ç³»</h3><ul>
<li>å¾®ä¿¡ : WhatsXie</li>
<li>é‚®ä»¶ : <a href="mailto:ReverseScale@iCloud.com" target="_blank" rel="noopener">ReverseScale@iCloud.com</a></li>
<li>åšå®¢ : <a href="https://reversescale.github.io">https://reversescale.github.io</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="../../../../js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'å¦‚æœè§‰å¾—æˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·éšæ„æ‰“èµã€‚æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ!', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'Donate', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: 'http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/18-11-14/6067039.jpg',
  alipayImage: 'http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/18-11-16/6997594.jpg'
});
</script>
      
      
      
        
	<div id="comment">
		<!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC80MTA5OC8xNzYyMw==">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
		</div>
		<!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
	</div>



      
      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../../29/iOS Principle LLVMAndClang/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iOS Principleï¼šLLVMAndClang
        
      </div>
    </a>
  
  
    <a href="../../../03/29/ReactNative command/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ReactNative å¼€å‘å¸¸ç”¨å‘½ä»¤è¡Œï¼ˆæŒç»­æ›´æ–°ï¼‰</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ¤–-è¦æ±‚"><span class="nav-number">1.</span> <span class="nav-text">ğŸ¤– è¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ¨-æµ‹è¯•-UI-ä»€ä¹ˆæ ·å­ï¼Ÿ"><span class="nav-number">2.</span> <span class="nav-text">ğŸ¨ æµ‹è¯• UI ä»€ä¹ˆæ ·å­ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ¯-å®‰è£…æ–¹æ³•"><span class="nav-number">3.</span> <span class="nav-text">ğŸ¯ å®‰è£…æ–¹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å®‰è£…"><span class="nav-number">3.1.</span> <span class="nav-text">å®‰è£…</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ› -æ¡†æ¶ä»‹ç»"><span class="nav-number">4.</span> <span class="nav-text">ğŸ›  æ¡†æ¶ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AOP-æ¨¡å¼ï¼ˆAspects-RunTime-ä»£æ›¿åŸºç±»ï¼‰-Category-æ–¹æ³•äº¤æ¢"><span class="nav-number">4.1.</span> <span class="nav-text">AOP æ¨¡å¼ï¼ˆAspects-RunTime ä»£æ›¿åŸºç±»ï¼‰+ Category æ–¹æ³•äº¤æ¢</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Viewå±‚é‡‡ç”¨-MVVM-è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨-ReactiveObjC-è¿›è¡Œæ•°æ®ç»‘å®š"><span class="nav-number">4.2.</span> <span class="nav-text">Viewå±‚é‡‡ç”¨ MVVM è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨ ReactiveObjC è¿›è¡Œæ•°æ®ç»‘å®š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç½‘ç»œå±‚ä½¿ç”¨-YTKNetwork-é…åˆ-ReactiveCocoa-å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–-ç­‰é—®é¢˜"><span class="nav-number">4.3.</span> <span class="nav-text">ç½‘ç»œå±‚ä½¿ç”¨ YTKNetwork é…åˆ ReactiveCocoa å°è£…ç½‘ç»œè¯·æ±‚ï¼Œè§£å†³å¦‚ä½•äº¤ä»˜æ•°æ®ï¼Œäº¤ä»˜ä»€ä¹ˆæ ·çš„æ•°æ®ï¼ˆå»ModelåŒ–)ç­‰é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é‡‡ç”¨-JLRoutes-è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦"><span class="nav-number">4.4.</span> <span class="nav-text">é‡‡ç”¨ JLRoutes è·¯ç”±å¯¹åº”ç”¨è¿›è¡Œç»„ä»¶åŒ–è§£è€¦</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ“-æ•´ç†åˆ¶ä½œ"><span class="nav-number">5.</span> <span class="nav-text">ğŸ“ æ•´ç†åˆ¶ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ˜¬-è”ç³»"><span class="nav-number">6.</span> <span class="nav-text">ğŸ˜¬ è”ç³»</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2019 Evolution All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				UV : <span id="busuanzi_value_site_uv"></span> |  
				PV : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="../../../../index.html" class="mobile-nav-link">Home</a>
  
    <a href="../../../../archives" class="mobile-nav-link">Archives</a>
  
    <a href="../../../../categories" class="mobile-nav-link">Categories</a>
  
    <a href="../../../../tags" class="mobile-nav-link">Tags</a>
  
    <a href="../../../../about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="../../../../fancybox/jquery.fancybox.css">
  <script src="../../../../fancybox/jquery.fancybox.pack.js"></script>


<script src="../../../../js/scripts.js"></script>




  <script src="../../../../js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Evolution
          </div>
          <div class="panel-body">
            Copyright Â© 2019 Tim&#39;s Technology Blog All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>